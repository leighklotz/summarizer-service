{% extends "cards/card-base.page" %}
{% block title %}Summarizer{% endblock %}
{% block h1 %}Summarizer{% endblock %}
{% block content %}
<form method="POST">
  <div id="grid">
    {% for field in card.form() %}
      <label for="{{ field['name'] }}">{{ field['label'] }}</label>
      <input {% for attr in field.items() %}{{attr[0]}}="{{attr[1]}}" {% endfor %} />
    {% endfor %}
  </div>
  <button type="submit" id="submit-button">Summarize</button>
  {%if card.summary %}
    <label class="form-check-label" for="markdownToggle">Toggle Markdown
      <input class="form-check-input" type="checkbox" value="" id="markdownToggle">
    </label>
  {% endif %}
  <div id="loading"></div>
</form>

{%if card.summary %}
    <div id="output" class="form-control""></div>

    <div id="markdownInput" class="form-control">
    {% for para in card.summary.split('\n') %}
      <p>{{para}}</p>
    {% endfor %}
    </div>

{% endif %}


<hr />
<datalist id="prompts">
  <option value="">
  <option value="Summarize">
  <option value="Summarize as bullet points" />
  <option value="Summarize the main points" />
  <option value="What is unusual about this?" />
  <option value="Write help text to add to this web page" />
</datalist>
{% endblock %}
{% block helpbody %}
  {% include('cards/summarize/help.body') %}
{% endblock %}
