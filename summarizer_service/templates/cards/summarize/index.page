{% extends "cards/card-base.page" %}
{% block title %}Summarizer{% endblock %}
{% block h1 %}Summarizer{% endblock %}
{% block content %}
<form id="mainform" method="POST">
  <div id="grid">
    {% for field in card.form() %}
      <label for="{{ field['name'] }}">{{ field['label'] }}</label>
      <input {% for attr in field.items() %}{{attr[0]}}="{{attr[1]}}" {% endfor %} />
    {% endfor %}
  </div>
  <div id="loading"></div>
</form>
<p />

<div class="tab-container">
  <button type="submit" class="tab-button active" id="submit-button" form="mainform">Summarize</button>
{%if card.summary %}
  <a href="#" class="tab-button" id="markdownTab">Markdown</a>
  <a href="#" class="tab-button active" id="textTab">Text</a>
{% endif %}
</div>

{%if card.summary %}
<div id="output" class="form-control display"></div>
  <!-- avoid adding indentation to markdown paras -->
  <div id="rawText" class="form-control hide">{% for para in card.summary.split('\n') %}
{{para}}
{% endfor %}
    </div>
{% endif %}

<datalist id="prompts">
  {% for value in card.prompts %}
    <option value="{{value}}">
  {% endfor %}
</datalist>
{% endblock %}
{% block helpbody %}
  {% include('cards/summarize/help.body') %}
{% endblock %}
